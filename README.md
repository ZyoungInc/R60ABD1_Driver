### ✅ 已实现

* **系统信息 / 查询**

  * 产品型号 (0xA1)
  * 产品ID (0xA2)
  * 硬件型号 (0xA3)
  * 固件版本 (0xA4)
  * 心跳包、初始化完成 (0x01,0x05,0x07) → 可通过注册扩展。
* **人体存在 (0x80)**

  * 开关、存在信息、运动信息、体动参数、距离、方位
  * 查询/设置 API & 回调都有。
* **呼吸 (0x81)**

  * 开关、呼吸信息、呼吸数值、呼吸波形、低缓呼吸判读(0x0B)
  * 查询/设置 API & 回调都有。
* **心率 (0x85)**

  * 开关、心率数值、心率波形
  * 查询/设置 API & 回调都有。
* **睡眠 (0x84)**

  * 开关、入床/离床、睡眠状态、清浅深时长、评分
  * 综合8B状态(0x0C)、整晚统计12B(0x0D)、异常(0x0E)、上报模式(0x0F)、质量评级(0x10)、挣扎/无人状态(0x11/0x12)
  * 配置类（挣扎开关/无人开关/无人时长/截止时长/挣扎灵敏度）也已经实现。
  * 特殊查询号 (0x8C,0x8D,0x8E,0x8F,0x90~0x9A) 已显式注册 → 正确分发。
* **OTA (0x03)**

  * begin / send_chunk / end → 已实现。

---

### ⚠️ 目前仍然“待补”的地方

1. **系统组**还有几个状态上报（比如“位置越界 0x07”），可以加回调保存。
2. **呼吸/心率波形**目前只是保存到 `g_breath.wave[5]` / `g_heart.wave[5]`，但如果你要做实时绘图，可能需要更大的 ring buffer。
3. **睡眠组**里的 `0x91/0x92`（挣扎状态 / 无人计时状态），目前我偷懒直接注册到了 `rx_sleep_rating`。你如果要精确区分，可以再写两个解析器，把值分别落到 `g_sleep.cfg` 或 `g_sleep`。
4. **低缓呼吸阈值 (0x0B)** 已保存到 `g_breath.low_slow_thresh`，但它的**查询号是 0x8B**，如果想显式注册，可以在 `register_builtin()` 增加：

   ```cpp
   radar_register_handler(CTRL_BREATH, 0x8B, rx_breath_low_slow);
   ```
5. **心跳包 (0x01)** 的解析器还没写，虽然现在不影响主功能。


---

要不要我帮你直接把最后几个缺口（0x91/0x92/0x8B/0x07/0x01）补上，生成一份**最终合并版**？
